build:
  docker:
    web: Dockerfile  # Define o Dockerfile para o servi√ßo principal

run:
  web:
    command:
      - sh
      - -c
      - "python manage.py makemigrations && python manage.py migrate && python manage.py runserver 0.0.0.0:8000"
    image: python:3.12.7-alpine3.20  # Define a imagem Docker para o processo web

  worker:
    command:
      - celery
      - -A
      - core
      - worker
      - --loglevel=info
    image: python:3.12.7-alpine3.20  # Define a imagem Docker para o processo Celery (usando a mesma imagem do web)
